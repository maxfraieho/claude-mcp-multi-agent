# ðŸ¥ System Health Report - Multi-Agent MCP System

**Ð”Ð°Ñ‚Ð° Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ¸:** 2025-11-15
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ ÐŸÐ¾Ñ‚Ñ€ÐµÐ±ÑƒÑ” ÑƒÐ²Ð°Ð³Ð¸

---

## âœ… Ð©Ð¾ Ð¿Ñ€Ð°Ñ†ÑŽÑ”

### 1. Docker Infrastructure
- âœ… **Vibe Kanban** - Healthy (port 3001)
- âœ… **PostgreSQL** - Running (port 5432)
- âœ… **Redis** - Healthy (port 6379)
- âœ… **Grafana** - Healthy (port 3000)
- âœ… **Prometheus** - Healthy (port 9091)
- âš ï¸ **Vault** - Unhealthy (Ñ†Ðµ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ dev)

### 2. Qwen AI Agent
- âœ… **Qwen Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾ Ð›ÐžÐšÐÐ›Ð¬ÐÐž** Ð² `/usr/local/bin/qwen`
- âœ… Ð’ÐµÑ€ÑÑ–Ñ: 0.1.4
- âœ… Ð¢Ð¸Ð¿: Node.js CLI (`@qwen-code/qwen-code`)
- âœ… **ÐÐµ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±ÑƒÑ” SSH Ð´Ð¾ÑÑ‚ÑƒÐ¿Ñƒ** Ð´Ð¾ Ð²Ñ–Ð´Ð´Ð°Ð»ÐµÐ½Ð¸Ñ… ÑÐµÑ€Ð²ÐµÑ€Ñ–Ð²

**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ñ–Ñ:** ÐžÐ½Ð¾Ð²Ð¸Ñ‚Ð¸ ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–ÑŽ MCP Ð´Ð»Ñ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Qwen Ð·Ð°Ð¼Ñ–ÑÑ‚ÑŒ SSH.

### 3. MCP Configuration
- âœ… Ð¤Ð°Ð¹Ð» `.mcp.json` Ñ–ÑÐ½ÑƒÑ” Ð² Vibe Kanban
- âœ… 7 executors Ð½Ð°Ð»Ð°ÑˆÑ‚Ð¾Ð²Ð°Ð½Ð¾
- âœ… MCP ÑÐµÑ€Ð²ÐµÑ€ Ð² Claude Code Ð¿Ñ–Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¹

---

## âŒ ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð¸

### 1. Gemini Proxy - ÐšÐ Ð˜Ð¢Ð˜Ð§ÐÐž

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âš ï¸ ÐŸÑ€Ð°Ñ†ÑŽÑ”, Ð°Ð»Ðµ Ð· Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°Ð¼Ð¸

**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð¸:**

#### A. ÐŸÑƒÑÑ‚Ñ– API Ñ‚Ð¾ÐºÐµÐ½Ð¸
```
Ð¤Ð°Ð¹Ð»: /app/secrets/gemini_tokens.txt
Ð Ð¾Ð·Ð¼Ñ–Ñ€: 0 Ð±Ð°Ð¹Ñ‚
Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: ÐŸÐžÐ ÐžÐ–ÐÐ†Ð™
```

**ÐÐ°ÑÐ»Ñ–Ð´Ð¾Ðº:** Gemini Proxy Ð½Ðµ Ð¼Ð¾Ð¶Ðµ Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸ Ð·Ð°Ð¿Ð¸Ñ‚Ð¸ Ð´Ð¾ Google Gemini API Ð±ÐµÐ· Ñ‚Ð¾ÐºÐµÐ½Ñ–Ð².

#### B. Ð—Ð°ÑÑ‚Ð°Ñ€Ñ–Ð»Ñ– Ð½Ð°Ð·Ð²Ð¸ Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹
```
ERROR: models/gemini-pro - NOT_FOUND
ERROR: models/gemini-1.5-flash - NOT_FOUND
```

**ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð°:** API v1 Ð½Ðµ Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÑƒÑ” ÑÑ‚Ð°Ñ€Ñ– Ð½Ð°Ð·Ð²Ð¸ Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹.

**ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð½Ð°Ð·Ð²Ð¸:**
- âœ… `gemini-2.0-flash-exp`
- âœ… `gemini-2.0-flash-thinking-exp`
- âœ… `gemini-1.5-pro-latest`

---

## ðŸ”§ ÐÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ñ– Ð²Ð¸Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ

### ÐŸÑ€Ñ–Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ 1: Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Gemini API Ñ‚Ð¾ÐºÐµÐ½Ð¸

```bash
# Ð¡Ñ‚Ð²Ð¾Ñ€Ñ–Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» Ð· Ñ‚Ð¾ÐºÐµÐ½Ð°Ð¼Ð¸ (Ð¿Ð¾ Ð¾Ð´Ð½Ð¾Ð¼Ñƒ Ð½Ð° Ñ€ÑÐ´Ð¾Ðº)
cat > /home/vokov/multi-agent-dev-system/agent-dev/secrets/gemini_tokens.txt << 'EOF'
Ð’ÐÐ¨_GEMINI_API_KEY_1
Ð’ÐÐ¨_GEMINI_API_KEY_2
Ð’ÐÐ¨_GEMINI_API_KEY_3
EOF

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ñ–Ñ‚ÑŒ Gemini Proxy
docker restart gemini-proxy
```

**Ð”Ðµ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ñ‚Ð¾ÐºÐµÐ½Ð¸:** https://aistudio.google.com/apikey

### ÐŸÑ€Ñ–Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ 2: ÐžÐ½Ð¾Ð²Ð¸Ñ‚Ð¸ MCP ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–ÑŽ Ð´Ð»Ñ Qwen

ÐžÑÐºÑ–Ð»ÑŒÐºÐ¸ Qwen Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾, Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð·Ð¼Ñ–Ð½Ð¸Ñ‚Ð¸ ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–ÑŽ Ð· SSH Ð½Ð° local execution:

**Ð¤Ð°Ð¹Ð»:** `/home/vokov/multi-agent-dev-system/agent-dev/vibe-kanban/.mcp.json`

**Ð‘ÑƒÐ»Ð¾ (SSH):**
```json
"qwen-2.5-coder-ssh": {
  "type": "ssh",
  "host": "100.100.74.9",
  "command": "qwen-cli"
}
```

**ÐœÐ°Ñ” Ð±ÑƒÑ‚Ð¸ (Local):**
```json
"qwen-local": {
  "type": "local-cli",
  "command": "/usr/local/bin/qwen",
  "name": "Qwen 2.5 Coder (Local)",
  "description": "Qwen Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¹ Ñ‡ÐµÑ€ÐµÐ· npm"
}
```

### ÐŸÑ€Ñ–Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ 3: ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ñ‚Ð¸ Gemini Proxy Ð¿Ñ–ÑÐ»Ñ Ð´Ð¾Ð´Ð°Ð²Ð°Ð½Ð½Ñ Ñ‚Ð¾ÐºÐµÐ½Ñ–Ð²

```bash
# Ð¢ÐµÑÑ‚ Ð·Ð°Ð¿Ð¸Ñ‚Ñƒ
curl -X POST http://localhost:8080/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gemini-2.0-flash-exp",
    "messages": [{"role": "user", "content": "Test"}]
  }'
```

---

## ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°

- **Uptime Gemini Proxy:** 30000s (~8.3 Ð³Ð¾Ð´Ð¸Ð½Ð¸)
- **Total Gemini requests:** 1 (Ð· Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°Ð¼Ð¸ Ñ‡ÐµÑ€ÐµÐ· Ð²Ñ–Ð´ÑÑƒÑ‚Ð½Ñ–ÑÑ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½Ñ–Ð²)
- **Docker containers running:** 9/9
- **MCP executors configured:** 7

---

## ðŸŽ¯ ÐŸÐ»Ð°Ð½ Ð´Ñ–Ð¹

### ÐšÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾ÑÑ‚Ñ€Ð¾ÐºÐ¾Ð²Ð¾ (ÑÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ–)
1. âœ… ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐµÐ½Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸
2. âœ… Ð’Ð¸ÑÐ²Ð»ÐµÐ½Ð¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð¸ Ð· Gemini Ñ‚Ð¾ÐºÐµÐ½Ð°Ð¼Ð¸
3. âœ… Ð—Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¸Ð¹ Qwen
4. â³ **TODO:** Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Gemini API Ñ‚Ð¾ÐºÐµÐ½Ð¸
5. â³ **TODO:** ÐžÐ½Ð¾Ð²Ð¸Ñ‚Ð¸ MCP config Ð´Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Qwen
6. â³ **TODO:** ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚ÑƒÐ²Ð°Ñ‚Ð¸ Gemini Proxy Ð· Ñ‚Ð¾ÐºÐµÐ½Ð°Ð¼Ð¸

### Ð¡ÐµÑ€ÐµÐ´Ð½ÑŒÐ¾ÑÑ‚Ñ€Ð¾ÐºÐ¾Ð²Ð¾ (Ñ†ÐµÐ¹ Ñ‚Ð¸Ð¶Ð´ÐµÐ½ÑŒ)
1. Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ Ñ‚ÐµÑÑ‚Ð¸ Ð´Ð»Ñ Ð²ÑÑ–Ñ… executors
2. ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ñ‚Ð¸ Ð¼Ð¾Ð½Ñ–Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ API limits
3. Ð”Ð¾Ð´Ð°Ñ‚Ð¸ fallback Ð»Ð¾Ð³Ñ–ÐºÑƒ Ð¿Ñ€Ð¸ Rate Limit
4. Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ÑƒÐ²Ð°Ñ‚Ð¸ Ñ€Ð¾Ð±Ð¾Ñ‡Ñ– API endpoints

---

## ðŸ“ Ð’Ð¸ÑÐ½Ð¾Ð²ÐºÐ¸

**Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¼Ð°Ð¹Ð¶Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ð° Ð´Ð¾ Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸!**

ÐžÑÐ½Ð¾Ð²Ð½Ñ– Ð±Ð»Ð¾ÐºÐµÑ€Ð¸:
- âŒ Ð’Ñ–Ð´ÑÑƒÑ‚Ð½Ñ– Gemini API Ñ‚Ð¾ÐºÐµÐ½Ð¸
- âš ï¸ ÐÐµÐ¾Ð¿Ñ‚Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð° ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ (SSH Qwen Ð·Ð°Ð¼Ñ–ÑÑ‚ÑŒ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾)

ÐŸÑ–ÑÐ»Ñ Ð´Ð¾Ð´Ð°Ð²Ð°Ð½Ð½Ñ Ñ‚Ð¾ÐºÐµÐ½Ñ–Ð² Ñ‚Ð° Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ—:
- âœ… Gemini Flash 2.0 Ð±ÑƒÐ´Ðµ Ð¿Ñ€Ð°Ñ†ÑŽÐ²Ð°Ñ‚Ð¸
- âœ… Qwen Ð±ÑƒÐ´Ðµ Ð¿Ñ€Ð°Ñ†ÑŽÐ²Ð°Ñ‚Ð¸ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ (ÑˆÐ²Ð¸Ð´ÑˆÐµ Ð½Ñ–Ð¶ SSH)
- âœ… Claude Orchestrator Ð·Ð¼Ð¾Ð¶Ðµ Ð´ÐµÐ»ÐµÐ³ÑƒÐ²Ð°Ñ‚Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ñ–
- âœ… Vibe Kanban Ð·Ð¼Ð¾Ð¶Ðµ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ Ð²ÑÑ–Ñ… AI Ð°Ð³ÐµÐ½Ñ‚Ñ–Ð²

**ETA Ð´Ð¾ Ð¿Ð¾Ð²Ð½Ð¾Ñ— Ð³Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚Ñ–:** 15-30 Ñ…Ð²Ð¸Ð»Ð¸Ð½ (Ð´Ð¾Ð´Ð°Ñ‚Ð¸ Ñ‚Ð¾ÐºÐµÐ½Ð¸ + Ð¾Ð½Ð¾Ð²Ð¸Ñ‚Ð¸ ÐºÐ¾Ð½Ñ„Ñ–Ð³)

---

**Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð¾ Ð·Ð° Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ health check ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ–Ð²** ðŸ”
